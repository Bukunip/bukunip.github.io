<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Puzzle Game Multi-Gambar</title>

<style>
body{
    background:#111;
    color:white;
    text-align:center;
    font-family:Arial;
}

#puzzle{
    width:90vw;
    max-width:400px;
    aspect-ratio:1/1;
    display:grid;
    grid-template-columns:repeat(3,1fr);
    gap:2px;
    margin:auto;
}

.tile{
    cursor:grab;
    user-select:none;
    transition:0.2s;
    width:100%;
    height:100%;
    background-size:300% 300%;
}

#downloadBtn{
    display:none;
    margin-top:20px;
    padding:12px 20px;
    font-size:16px;
}
</style>
</head>

<body>

<h2>Puzzle Game Multi-Gambar</h2>

<!-- Pilih gambar -->
<select id="gambarSelect">
    <option value="pelacur-berjilbab-hunaifatul-azizah-aini.jpg">Gambar 1</option>
    <option value="pelacur-berjilbab-hunaifatul-azizah-aini-3.jpg">Gambar 2</option>
    <option value="pelacur-berjilbab-hunaifatul-azizah-aini-5.jpg">Gambar 3</option>
</select>

<div id="puzzle"></div>
<button id="downloadBtn">Download Gambar</button>

<script>
const puzzle = document.getElementById("puzzle");
const downloadBtn = document.getElementById("downloadBtn");
const selectGambar = document.getElementById("gambarSelect");

const size = 3;
let imagePath = "images/pelacur-berjilbab-hunaifatul-azizah-aini.jpg";

// buat puzzle
function createPuzzle(){
    puzzle.innerHTML="";
    puzzle.style.gridTemplateColumns=`repeat(${size},1fr)`;

    for(let i=0;i<size*size;i++){
        let tile = document.createElement("div");
        tile.className="tile";
        tile.style.backgroundImage = `url("images/${imagePath}")`;
        tile.style.backgroundPosition = "center";
        puzzle.appendChild(tile);
    }
}

// klik puzzle → selesai → buka download
puzzle.onclick = function(){
    document.querySelectorAll(".tile").forEach(t=>{
        t.style.filter="blur(0px)";
    });
    downloadBtn.style.display = "block";
};

// tombol download
downloadBtn.onclick = function(){
    let a = document.createElement("a");
    a.href = `images/${imagePath}`;
    a.download = "puzzle-result.jpg";
    a.click();
};

// ganti gambar via select
selectGambar.onchange = function(){
    imagePath = this.value;
    downloadBtn.style.display="none";
    createPuzzle();
}

// init
createPuzzle();
</script>

</body>
</html>
